"use strict";
// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.
// See LICENSE in the project root for license information.
Object.defineProperty(exports, "__esModule", { value: true });
const PackageName_1 = require("../PackageName");
describe('PackageName', () => {
    describe('Test', () => {
        it('isValidName() positive test', () => {
            expect(PackageName_1.PackageName.isValidName('@microsoft/node-core-library')).toEqual(true);
        });
        it('isValidName() negative test', () => {
            expect(PackageName_1.PackageName.isValidName('@microsoft/node-core-library/path')).toEqual(false);
        });
        it('tryParse() tests', () => {
            expect(PackageName_1.PackageName.tryParse('@microsoft/node-core-library')).toEqual({
                scope: '@microsoft',
                unscopedName: 'node-core-library',
                error: ''
            });
            expect(PackageName_1.PackageName.tryParse('')).toEqual({
                scope: '',
                unscopedName: '',
                error: 'The package name must not be empty'
            });
            expect(PackageName_1.PackageName.tryParse(undefined) // tslint:disable-line:no-any
            ).toEqual({
                scope: '',
                unscopedName: '',
                error: 'The package name must not be null or undefined'
            });
            expect(PackageName_1.PackageName.tryParse('@microsoft')).toEqual({
                scope: '@microsoft',
                unscopedName: '',
                error: 'Error parsing "@microsoft": The scope must be followed by a slash'
            });
            expect(PackageName_1.PackageName.tryParse('@/node-core-library')).toEqual({
                scope: '@',
                unscopedName: 'node-core-library',
                error: 'Error parsing "@/node-core-library": The scope name cannot be empty'
            });
            expect(PackageName_1.PackageName.tryParse('@Microsoft/node-core-library')).toEqual({
                scope: '@Microsoft',
                unscopedName: 'node-core-library',
                error: 'The package scope "@Microsoft" must not contain upper case characters'
            });
            expect(PackageName_1.PackageName.tryParse('@micro!soft/node-core-library')).toEqual({
                scope: '@micro!soft',
                unscopedName: 'node-core-library',
                error: 'The package name "@micro!soft/node-core-library" contains an invalid character: \"!\"'
            });
            expect(PackageName_1.PackageName.tryParse('@microsoft/node-co~re-library')).toEqual({
                scope: '@microsoft',
                unscopedName: 'node-co~re-library',
                error: 'The package name "@microsoft/node-co~re-library" contains an invalid character: \"~\"'
            });
            expect(PackageName_1.PackageName.tryParse('@microsoft/node-core-library/path')).toEqual({
                scope: '@microsoft',
                unscopedName: 'node-core-library/path',
                error: 'The package name "@microsoft/node-core-library/path" contains an invalid character: \"/\"'
            });
        });
    });
    it('parse() test', () => {
        expect(() => { PackageName_1.PackageName.parse('@'); }).toThrowError('The scope must be followed by a slash');
    });
    it('combineParts() tests', () => {
        expect(PackageName_1.PackageName.combineParts('@microsoft', 'node-core-library'))
            .toEqual('@microsoft/node-core-library');
        expect(PackageName_1.PackageName.combineParts('', 'node-core-library'))
            .toEqual('node-core-library');
    });
    it('combineParts() errors', () => {
        expect(() => {
            PackageName_1.PackageName.combineParts('', '@microsoft/node-core-library');
        }).toThrowError('The unscopedName cannot start with an "@" character');
        expect(() => {
            PackageName_1.PackageName.combineParts('@micr!osoft', 'node-core-library');
        }).toThrowError('The package name "@micr!osoft/node-core-library" contains an invalid character: "!"');
        expect(() => {
            PackageName_1.PackageName.combineParts('', '');
        }).toThrowError('The package name must not be empty');
    });
});

//# sourceMappingURL=PackageName.test.js.map
