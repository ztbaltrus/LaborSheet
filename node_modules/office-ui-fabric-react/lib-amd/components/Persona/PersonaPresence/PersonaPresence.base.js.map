{"version":3,"file":"PersonaPresence.base.js","sourceRoot":"../src/","sources":["components/Persona/PersonaPresence/PersonaPresence.base.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport {\r\n  BaseComponent,\r\n  classNamesFunction,\r\n  customizable,\r\n} from '../../../Utilities';\r\nimport { IStyleSet } from '../../../Styling';\r\nimport { Icon } from '../../../Icon';\r\nimport {\r\n  IPersonaPresenceProps,\r\n  IPersonaPresenceStyleProps,\r\n  IPersonaPresenceStyles,\r\n  PersonaPresence as PersonaPresenceEnum,\r\n  PersonaSize,\r\n} from '../Persona.types';\r\nimport { sizeBoolean } from '../PersonaConsts';\r\n\r\nconst coinSizeFontScaleFactor = 6;\r\nconst coinSizePresenceScaleFactor = 3;\r\nconst presenceMaxSize = 40;\r\nconst presenceFontMaxSize = 20;\r\n\r\nconst getClassNames = classNamesFunction<IPersonaPresenceStyleProps, IPersonaPresenceStyles>();\r\n\r\n/**\r\n * PersonaPresence with no default styles.\r\n * [Use the `getStyles` API to add your own styles.](https://github.com/OfficeDev/office-ui-fabric-react/wiki/Styling)\r\n */\r\n@customizable('PersonaPresence', ['theme'])\r\nexport class PersonaPresenceBase extends BaseComponent<IPersonaPresenceProps, {}> {\r\n  constructor(props: IPersonaPresenceProps) {\r\n    super(props);\r\n  }\r\n\r\n  public render(): JSX.Element | null {\r\n    const {\r\n      coinSize,\r\n      getStyles, // Use getStyles from props.\r\n      presence,\r\n      theme,\r\n    } = this.props;\r\n    const size = sizeBoolean(this.props.size as PersonaSize);\r\n\r\n    // Render Presence Icon if Persona is above size 32.\r\n    const renderIcon = !(size.isSize10 || size.isSize16 || size.isSize24 || size.isSize28 || size.isSize32) && (coinSize ? coinSize > 32 : true);\r\n\r\n    const presenceHeightWidth: string = coinSize ? (coinSize / coinSizePresenceScaleFactor < presenceMaxSize ? coinSize / coinSizePresenceScaleFactor + 'px' : presenceMaxSize + 'px') : '';\r\n    const presenceFontSize: string = coinSize ? (coinSize / coinSizeFontScaleFactor < presenceFontMaxSize ? coinSize / coinSizeFontScaleFactor + 'px' : presenceFontMaxSize + 'px') : '';\r\n    const coinSizeWithPresenceIconStyle = coinSize ? { fontSize: presenceFontSize, lineHeight: presenceHeightWidth } : undefined;\r\n    const coinSizeWithPresenceStyle = coinSize ? { width: presenceHeightWidth, height: presenceHeightWidth } : undefined;\r\n\r\n    // Use getStyles from props, or fall back to getStyles from styles file.\r\n    const classNames = getClassNames(getStyles, {\r\n      theme: theme!,\r\n      presence,\r\n      size: this.props.size,\r\n    });\r\n\r\n    if (presence === PersonaPresenceEnum.none) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div\r\n        className={ classNames.presence }\r\n        style={ coinSizeWithPresenceStyle }\r\n      >\r\n        { renderIcon && this._onRenderIcon(classNames.presenceIcon, coinSizeWithPresenceIconStyle) }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private _onRenderIcon = (className?: string, styles?: IStyleSet): JSX.Element => (\r\n    <Icon\r\n      className={ className }\r\n      iconName={ this._determineIcon() }\r\n      style={ styles }\r\n    />\r\n  )\r\n\r\n  private _determineIcon = (): string | undefined => {\r\n    const { presence } = this.props;\r\n\r\n    if (presence !== PersonaPresenceEnum.none) {\r\n      let userPresence = PersonaPresenceEnum[presence as PersonaPresenceEnum];\r\n\r\n      switch (userPresence) {\r\n        case 'online':\r\n          userPresence = 'SkypeCheck';\r\n          break;\r\n        case 'away':\r\n          userPresence = 'SkypeClock';\r\n          break;\r\n        case 'dnd':\r\n          userPresence = 'SkypeMinus';\r\n          break;\r\n        default:\r\n          userPresence = '';\r\n      }\r\n\r\n      return userPresence;\r\n    }\r\n  }\r\n}\r\n"]}