{"version":3,"file":"SuggestionsControl.js","sourceRoot":"../src/","sources":["components/FloatingPicker/Suggestions/SuggestionsControl.tsx"],"names":[],"mappings":";;;IAiBA,kCAAkC;IAClC,IAAM,MAAM,GAAQ,YAAY,CAAC;IAEjC,IAAY,kBAIX;IAJD,WAAY,kBAAkB;QAC5B,+DAAM,CAAA;QACN,uEAAU,CAAA;QACV,+DAAM,CAAA;IACR,CAAC,EAJW,kBAAkB,GAAlB,0BAAkB,KAAlB,0BAAkB,QAI7B;IAOD;QAAiD,uDAAoD;QAArG;;QAsCA,CAAC;QArCQ,4CAAM,GAAb;YACQ,IAAA,eAMQ,EALZ,0BAAU,EACV,wBAAS,EACT,0BAAU,EACV,UAAE,CAEW;YACf,OAAO,CACL,SAAS,CAAC,CAAC;gBACT,CACE,gCACE,EAAE,EAAG,EAAE,EACP,OAAO,EAAG,SAAS,EACnB,SAAS,EAAG,eAAG,CACb,8BAA8B,EAC9B,MAAM,CAAC,YAAY;wBAEjB,GAAC,cAAc,GAAG,MAAM,CAAC,cAAc,IACvC,UAAU;4BACV,IAEF,UAAU,EAAE,CACP,CACV,CAAC,CAAC;gBACH,CACE,6BACE,EAAE,EAAG,EAAE,EACP,SAAS,EAAG,eAAG,CACb,wBAAwB,EACxB,MAAM,CAAC,gBAAgB,CAAC,IAExB,UAAU,EAAE,CACV,CACP,CACJ,CAAC;;QACJ,CAAC;QACH,kCAAC;IAAD,CAAC,AAtCD,CAAiD,yBAAa,GAsC7D;IAtCY,kEAA2B;IAwCxC;;OAEG;IACH;QAA2C,8CAAoE;QAS7G,4BAAY,gBAA6C;YAAzD,YACE,kBAAM,gBAAgB,CAAC,SAMxB;YAVO,6BAAuB,GAC/B,iCAA8E,CAAC;YAK7E,KAAI,CAAC,KAAK,GAAG;gBACX,mBAAmB,EAAE,CAAC,CAAC;gBACvB,mBAAmB,EAAE,CAAC,CAAC;aACxB,CAAC;;QACJ,CAAC;QAEM,8CAAiB,GAAxB;YACE,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAC3B,CAAC;QAEM,+CAAkB,GAAzB;YACE,IAAI,CAAC,cAAc,EAAE,CAAC;QACxB,CAAC;QAEM,sDAAyB,GAAhC;YACE,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAC3B,CAAC;QAEM,iDAAoB,GAA3B;YACE,IAAI,CAAC,YAAY,CAAC,sBAAsB,EAAE,CAAC;QAC7C,CAAC;QAEM,mCAAM,GAAb;YACQ,IAAA,eAIQ,EAHZ,wBAAS,EACT,sCAAgB,EAChB,sCAAgB,CACH;YAEf,OAAO,CACL,6BACE,SAAS,EAAG,eAAG,CACb,gBAAgB,EAChB,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAC1B,MAAM,CAAC,IAAI,CAAC;gBAEZ,gBAAgB,IAAI,IAAI,CAAC,iBAAiB,EAAE;gBAC5C,IAAI,CAAC,kBAAkB,EAAE;gBACzB,gBAAgB,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAC1C,CACP,CAAC;QACJ,CAAC;QAED,sBAAW,iDAAiB;iBAA5B;gBACE,OAAO,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE,CAAC;YAC5C,CAAC;;;WAAA;QAEM,kDAAqB,GAA5B;YACE,OAAO,IAAI,CAAC,YAAY,CAAC,qBAAqB,EAAE,CAAC;QACnD,CAAC;QAEM,yCAAY,GAAnB;YACQ,IAAA,eAAyD,EAAvD,4CAAmB,EAAE,4CAAmB,CAAgB;YAChE,OAAO,mBAAmB,KAAK,CAAC,CAAC,IAAI,IAAI,CAAC,qBAAqB,EAAE,IAAI,mBAAmB,KAAK,CAAC,CAAC,CAAC;QAClG,CAAC;QAEM,kDAAqB,GAA5B;YACQ,IAAA,eAAmD,EAAjD,sCAAgB,EAAE,sCAAgB,CAAgB;YACpD,IAAA,eAAyD,EAAvD,4CAAmB,EAAE,4CAAmB,CAAgB;YAEhE,IAAI,gBAAgB,IAAI,mBAAmB,KAAK,CAAC,CAAC,IAAI,mBAAmB,GAAG,gBAAgB,CAAC,MAAM,EAAE;gBACnG,IAAM,kBAAkB,GAAG,gBAAgB,CAAC,mBAAmB,CAAC,CAAC;gBACjE,IAAI,kBAAkB,CAAC,SAAS,EAAE;oBAChC,kBAAkB,CAAC,SAAS,EAAE,CAAC;iBAChC;aACF;iBAAM,IAAI,IAAI,CAAC,YAAY,CAAC,qBAAqB,EAAE,EAAE;gBACpD,IAAI,CAAC,KAAK,CAAC,kBAAkB,EAAE,CAAC;aACjC;iBAAM,IAAI,gBAAgB,IAAI,mBAAmB,KAAK,CAAC,CAAC,IAAI,mBAAmB,GAAG,gBAAgB,CAAC,MAAM,EAAE;gBAC1G,IAAM,kBAAkB,GAAG,gBAAgB,CAAC,mBAAmB,CAAC,CAAC;gBACjE,IAAI,kBAAkB,CAAC,SAAS,EAAE;oBAChC,kBAAkB,CAAC,SAAS,EAAE,CAAC;iBAChC;aACF;QACH,CAAC;QAEM,6CAAgB,GAAvB,UAAwB,KAAc;YACpC,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;QACrF,CAAC;QAED;;;WAGG;QACI,0CAAa,GAApB,UAAqB,OAAe;YAC5B,IAAA,eAAyD,EAAvD,4CAAmB,EAAE,4CAAmB,CAAgB;YAChE,IAAI,gBAAgB,GAAG,KAAK,CAAC;YAC7B,IAAI,OAAO,kBAAkB,EAAE;gBAC7B,IAAI,mBAAmB,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,qBAAqB,EAAE,IAAI,mBAAmB,KAAK,CAAC,CAAC,EAAE;oBAC1G,IAAI,CAAC,eAAe,EAAE,CAAC;iBACxB;qBAAM,IAAI,mBAAmB,KAAK,CAAC,CAAC,EAAE;oBACrC,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;oBAC/C,gBAAgB,GAAG,IAAI,CAAC;iBACzB;qBAAM,IAAI,IAAI,CAAC,YAAY,CAAC,qBAAqB,EAAE,EAAE;oBACpD,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,UAAU,CAAC,CAAC;oBACnD,gBAAgB,GAAG,IAAI,CAAC;iBACzB;qBAAM,IAAI,mBAAmB,KAAK,CAAC,CAAC,EAAE;oBACrC,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;oBAC/C,gBAAgB,GAAG,IAAI,CAAC;iBACzB;aACF;iBAAM,IAAI,OAAO,gBAAgB,EAAE;gBAClC,IAAI,mBAAmB,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,qBAAqB,EAAE,IAAI,mBAAmB,KAAK,CAAC,CAAC,EAAE;oBAC1G,IAAI,CAAC,cAAc,EAAE,CAAC;iBACvB;qBAAM,IAAI,mBAAmB,KAAK,CAAC,CAAC,EAAE;oBACrC,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;oBACnD,gBAAgB,GAAG,IAAI,CAAC;iBACzB;qBAAM,IAAI,IAAI,CAAC,YAAY,CAAC,qBAAqB,EAAE,EAAE;oBACpD,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,UAAU,CAAC,CAAC;oBACvD,gBAAgB,GAAG,IAAI,CAAC;iBACzB;qBAAM,IAAI,mBAAmB,KAAK,CAAC,CAAC,EAAE;oBACrC,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;oBACnD,gBAAgB,GAAG,IAAI,CAAC;iBACzB;aACF;iBAAM,IAAI,OAAO,mBAAmB;mBAChC,OAAO,gBAAiB,EAAE;gBAC7B,IAAI,IAAI,CAAC,YAAY,EAAE,EAAE;oBACvB,IAAI,CAAC,qBAAqB,EAAE,CAAC;oBAC7B,gBAAgB,GAAG,IAAI,CAAC;iBACzB;aACF;YAED,OAAO,gBAAgB,CAAC;QAC1B,CAAC;QAED,6EAA6E;QACtE,2CAAc,GAArB;YACE,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBACzB,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;aAC7C;QACH,CAAC;QAES,8CAAiB,GAA3B;YAAA,iBA+BC;YA9BO,IAAA,eAAsE,EAApE,sCAAgB,EAAE,4EAAmC,CAAgB;YACrE,IAAA,oDAAmB,CAAgB;YAE3C,OAAO,gBAAgB,CAAC,CAAC,CAAC,CACxB,6BACE,SAAS,EAAG,eAAG,CAAC,gCAAgC,EAAE,MAAM,CAAC,oBAAoB,CAAC,EAC9E,EAAE,EAAC,uBAAuB,EAC1B,IAAI,EAAC,MAAM,gBACE,mCAAmC,IAE9C,gBAAgB,CAAC,GAAG,CAAC,UAAC,eAA8C,EAAE,KAAa;gBACnF,IAAM,UAAU,GAAG,mBAAmB,KAAK,CAAC,CAAC,IAAI,mBAAmB,KAAK,KAAK,CAAC;gBAC/E,OAAO,CACL,eAAe,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,6BAC7B,GAAG,EAAG,KAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,EAAE,CAAC,EAC5D,EAAE,EAAG,YAAY,GAAG,KAAK,EACzB,IAAI,EAAC,UAAU,gBACF,eAAe,CAAC,SAAS;oBAEtC,oBAAC,2BAA2B,IAC1B,EAAE,EAAG,iBAAiB,GAAG,KAAK,EAC9B,UAAU,EAAG,UAAU,EACvB,UAAU,EAAG,eAAe,CAAC,UAAU,EACvC,SAAS,EAAG,eAAe,CAAC,SAAS,EACrC,SAAS,EAAG,eAAe,CAAC,SAAS,GACrC,CACE,CAAC,CAAC,CAAC,IAAI,CACd,CAAC;YACJ,CAAC,CAAC,CACE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QACnB,CAAC;QAES,8CAAiB,GAA3B;YAAA,iBA8BC;YA7BO,IAAA,eAAsE,EAApE,sCAAgB,EAAE,4EAAmC,CAAgB;YACrE,IAAA,oDAAmB,CAAgB;YAC3C,OAAO,gBAAgB,CAAC,CAAC,CAAC,CACxB,6BACE,SAAS,EAAG,eAAG,CAAC,gCAAgC,EAAE,MAAM,CAAC,oBAAoB,CAAC,EAC9E,EAAE,EAAC,uBAAuB,EAC1B,IAAI,EAAC,MAAM,gBACE,mCAAmC,IAE9C,gBAAgB,CAAC,GAAG,CAAC,UAAC,eAA8C,EAAE,KAAa;gBACnF,IAAM,UAAU,GAAG,mBAAmB,KAAK,CAAC,CAAC,IAAI,mBAAmB,KAAK,KAAK,CAAC;gBAC/E,OAAO,CACL,eAAe,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,6BAC7B,GAAG,EAAG,KAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,EAAE,CAAC,EAC5D,EAAE,EAAG,YAAY,GAAG,KAAK,EACzB,IAAI,EAAC,UAAU,gBACF,eAAe,CAAC,SAAS;oBAEtC,oBAAC,2BAA2B,IAC1B,EAAE,EAAG,iBAAiB,GAAG,KAAK,EAC9B,UAAU,EAAG,UAAU,EACvB,UAAU,EAAG,eAAe,CAAC,UAAU,EACvC,SAAS,EAAG,eAAe,CAAC,SAAS,EACrC,SAAS,EAAG,eAAe,CAAC,SAAS,GACrC,CACE,CAAC,CAAC,CAAC,IAAI,CACd,CAAC;YACJ,CAAC,CAAC,CACE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QACnB,CAAC;QAES,+CAAkB,GAA5B;YACE,IAAM,gBAAgB,GAAG,IAAI,CAAC,uBAAuB,CAAC;YAEtD,OAAO,CACL,oBAAC,gBAAgB,qBACf,GAAG,EAAG,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,IACjC,IAAI,CAAC,KAAiC,EAC3C,CAAC,CAAC;QACR,CAAC;QAED;;WAEG;QACO,2CAAc,GAAxB,UAAyB,QAA4B,EAAE,gBAAqC;YAC1F,oGAAoG;YACpG,oEAAoE;YACpE,6GAA6G;YAC7G,IAAI,QAAQ,KAAK,gBAAgB,EAAE;gBACjC,IAAI,CAAC,yBAAyB,CAAC,QAAQ,CAAC,CAAC;gBACzC,OAAO;aACR;YAED,IAAM,eAAe,GAAG,gBAAgB,KAAK,SAAS,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,QAAQ,CAAC;YAErF,+FAA+F;YAC/F,2DAA2D;YAC3D,IAAM,gBAAgB,GAAG,IAAI,CAAC,yBAAyB,CACrD,QAAQ,EACR,eAAe,KAAK,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,uBAAuB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;YAErF,qFAAqF;YACrF,IAAI,CAAC,gBAAgB,EAAE;gBAErB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,uBAAuB,CAAC,QAAQ,CAAC,EAAE,eAAe,CAAC,CAAC;aAC9E;QACH,CAAC;QAED;;WAEG;QACO,+CAAkB,GAA5B,UAA6B,QAA4B,EAAE,gBAAqC;YAC9F,oGAAoG;YACpG,oEAAoE;YACpE,4GAA4G;YAC5G,IAAI,QAAQ,KAAK,gBAAgB,EAAE;gBACjC,IAAI,CAAC,6BAA6B,CAAC,QAAQ,CAAC,CAAC;gBAC7C,OAAO;aACR;YAED,IAAM,eAAe,GAAG,gBAAgB,KAAK,SAAS,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,QAAQ,CAAC;YAErF,mGAAmG;YACnG,IAAM,gBAAgB,GAAG,IAAI,CAAC,6BAA6B,CACzD,QAAQ,EACR,eAAe,KAAK,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,uBAAuB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;YAErF,yFAAyF;YACzF,IAAI,CAAC,gBAAgB,EAAE;gBAErB,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,2BAA2B,CAAC,QAAQ,CAAC,EAAE,eAAe,CAAC,CAAC;aACtF;QACH,CAAC;QAED;;WAEG;QACO,8CAAiB,GAA3B;YACE,IAAI,CAAC,QAAQ,CAAC,EAAE,mBAAmB,EAAE,CAAC,CAAC,EAAE,mBAAmB,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;YACpE,IAAI,CAAC,YAAY,CAAC,sBAAsB,EAAE,CAAC;YAE3C,sGAAsG;YACtG,IAAI,IAAI,CAAC,KAAK,CAAC,qBAAqB,KAAK,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC,qBAAqB,EAAE,EAAE;gBACxF,IAAI,CAAC,eAAe,EAAE,CAAC;aACxB;QACH,CAAC;QAED;;WAEG;QACO,4CAAe,GAAzB;YACE,IAAI,IAAI,CAAC,yBAAyB,CAAC,kBAAkB,CAAC,MAAM,CAAC,EAAE;gBAC7D,OAAO;aACR;YAED,IAAI,IAAI,CAAC,yBAAyB,CAAC,kBAAkB,CAAC,UAAU,CAAC,EAAE;gBACjE,OAAO;aACR;YAED,IAAI,CAAC,yBAAyB,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;QAC5D,CAAC;QAED;;WAEG;QACO,2CAAc,GAAxB;YACE,IAAI,IAAI,CAAC,6BAA6B,CAAC,kBAAkB,CAAC,MAAM,CAAC,EAAE;gBACjE,OAAO;aACR;YAED,IAAI,IAAI,CAAC,6BAA6B,CAAC,kBAAkB,CAAC,UAAU,CAAC,EAAE;gBACrE,OAAO;aACR;YAED,IAAI,CAAC,6BAA6B,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;QAChE,CAAC;QAED;;;;;WAKG;QACK,sDAAyB,GAAjC,UAAkC,QAA4B,EAAE,YAAyB;YAAzB,6BAAA,EAAA,gBAAwB,CAAC;YACvF,IAAI,QAAQ,KAAK,kBAAkB,CAAC,UAAU,EAAE;gBAC9C,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,MAAM,GAAG,YAAY,GAAG,CAAC,EAAE;oBACpD,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC;oBAC1D,IAAI,CAAC,QAAQ,CAAC,EAAE,mBAAmB,EAAE,CAAC,CAAC,EAAE,mBAAmB,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;oBACpE,OAAO,IAAI,CAAC;iBACb;aACF;iBAAM;gBACL,IAAM,QAAQ,GAAG,QAAQ,KAAK,kBAAkB,CAAC,MAAM,CAAC;gBACxD,IAAM,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC;gBAEvF,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,YAAY,GAAG,CAAC,EAAE;oBACpD,KAAK,IAAI,CAAC,GAAG,YAAY,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;wBACxD,IAAM,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;wBAC1B,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;4BACvC,IAAI,CAAC,QAAQ,CAAC,EAAE,mBAAmB,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;4BAC1D,IAAI,CAAC,QAAQ,CAAC,EAAE,mBAAmB,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;4BAC1D,IAAI,CAAC,YAAY,CAAC,sBAAsB,EAAE,CAAC;4BAC3C,OAAO,IAAI,CAAC;yBACb;qBACF;iBACF;aACF;YAED,OAAO,KAAK,CAAC;QACf,CAAC;QAED;;;;;SAKC;QACO,0DAA6B,GAArC,UAAsC,QAA4B,EAAE,YAAqB;YACvF,IAAI,QAAQ,KAAK,kBAAkB,CAAC,UAAU,EAAE;gBAC9C,IAAM,KAAK,GAAG,YAAY,KAAK,SAAS,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,MAAM,CAAC;gBACxF,IAAI,KAAK,GAAG,CAAC,EAAE;oBACb,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;oBACnD,IAAI,CAAC,QAAQ,CAAC,EAAE,mBAAmB,EAAE,CAAC,CAAC,EAAE,mBAAmB,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;oBACpE,OAAO,IAAI,CAAC;iBACb;aACF;iBAAM;gBACL,IAAM,QAAQ,GAAG,QAAQ,KAAK,kBAAkB,CAAC,MAAM,CAAC;gBACxD,IAAM,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC;gBACvF,IAAI,SAAS,EAAE;oBACb,IAAM,KAAK,GAAG,YAAY,KAAK,SAAS,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC;oBAC3E,IAAI,KAAK,GAAG,CAAC,EAAE;wBACb,KAAK,IAAI,CAAC,GAAG,KAAK,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;4BACnC,IAAM,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;4BAC1B,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;gCACvC,IAAI,CAAC,QAAQ,CAAC,EAAE,mBAAmB,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;gCAC1D,IAAI,CAAC,QAAQ,CAAC,EAAE,mBAAmB,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;gCAC1D,IAAI,CAAC,YAAY,CAAC,sBAAsB,EAAE,CAAC;gCAC3C,OAAO,IAAI,CAAC;6BACb;yBACF;qBACF;iBACF;aACF;YAED,OAAO,KAAK,CAAC;QACf,CAAC;QAEO,oDAAuB,GAA/B,UAAgC,QAA4B;YAC1D,QAAQ,QAAQ,EAAE;gBAChB,KAAK,kBAAkB,CAAC,MAAM;oBAC5B,OAAO,IAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC;gBACxC,KAAK,kBAAkB,CAAC,UAAU;oBAChC,OAAO,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC;gBACxC,KAAK,kBAAkB,CAAC,MAAM;oBAC5B,OAAO,IAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC;aACzC;QACH,CAAC;QAEO,oDAAuB,GAA/B,UAAgC,QAA4B;YAC1D,QAAQ,QAAQ,EAAE;gBAChB,KAAK,kBAAkB,CAAC,MAAM;oBAC5B,OAAO,kBAAkB,CAAC,UAAU,CAAC;gBACvC,KAAK,kBAAkB,CAAC,UAAU;oBAChC,OAAO,kBAAkB,CAAC,MAAM,CAAC;gBACnC,KAAK,kBAAkB,CAAC,MAAM;oBAC5B,OAAO,kBAAkB,CAAC,MAAM,CAAC;aACpC;QACH,CAAC;QAEO,wDAA2B,GAAnC,UAAoC,QAA4B;YAC9D,QAAQ,QAAQ,EAAE;gBAChB,KAAK,kBAAkB,CAAC,MAAM;oBAC5B,OAAO,kBAAkB,CAAC,MAAM,CAAC;gBACnC,KAAK,kBAAkB,CAAC,UAAU;oBAChC,OAAO,kBAAkB,CAAC,MAAM,CAAC;gBACnC,KAAK,kBAAkB,CAAC,MAAM;oBAC5B,OAAO,kBAAkB,CAAC,UAAU,CAAC;aACxC;QACH,CAAC;QACH,yBAAC;IAAD,CAAC,AA9ZD,CAA2C,yBAAa,GA8ZvD;IA9ZY,gDAAkB","sourcesContent":["import * as React from 'react';\r\nimport {\r\n  BaseComponent,\r\n  css,\r\n  KeyCodes\r\n} from '../../../Utilities';\r\nimport { IButton } from '../../../Button';\r\nimport { ISuggestionModel } from '../../../Pickers';\r\nimport {\r\n  ISuggestionsHeaderFooterItemProps,\r\n  ISuggestionsControlProps,\r\n  ISuggestionsCoreProps,\r\n  ISuggestionsHeaderFooterProps\r\n} from './Suggestions.types';\r\nimport { SuggestionsCore } from './SuggestionsCore';\r\nimport * as stylesImport from './SuggestionsControl.scss';\r\n\r\n// tslint:disable-next-line:no-any\r\nconst styles: any = stylesImport;\r\n\r\nexport enum SuggestionItemType {\r\n  header,\r\n  suggestion,\r\n  footer,\r\n}\r\n\r\nexport interface ISuggestionsControlState {\r\n  selectedHeaderIndex: number;\r\n  selectedFooterIndex: number;\r\n}\r\n\r\nexport class SuggestionsHeaderFooterItem extends BaseComponent<ISuggestionsHeaderFooterItemProps, {}> {\r\n  public render(): JSX.Element {\r\n    const {\r\n      renderItem,\r\n      onExecute,\r\n      isSelected,\r\n      id,\r\n\r\n    } = this.props;\r\n    return (\r\n      onExecute ?\r\n        (\r\n          <button\r\n            id={ id }\r\n            onClick={ onExecute }\r\n            className={ css(\r\n              'ms-Suggestions-sectionButton',\r\n              styles.actionButton,\r\n              {\r\n                ['is-selected ' + styles.buttonSelected]:\r\n                isSelected\r\n              }) }\r\n          >\r\n            { renderItem() }\r\n          </button>\r\n        ) :\r\n        (\r\n          <div\r\n            id={ id }\r\n            className={ css(\r\n              'ms-Suggestions-section',\r\n              styles.suggestionsTitle) }\r\n          >\r\n            { renderItem() }\r\n          </div>\r\n        )\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * Class when used with SuggestionsStore, renders a suggestions control with customizable headers and footers\r\n */\r\nexport class SuggestionsControl<T> extends BaseComponent<ISuggestionsControlProps<T>, ISuggestionsControlState> {\r\n\r\n  protected _forceResolveButton: IButton;\r\n  protected _searchForMoreButton: IButton;\r\n  protected _selectedElement: HTMLDivElement;\r\n  protected _suggestions: SuggestionsCore<T>;\r\n  private SuggestionsOfProperType: new (props: ISuggestionsCoreProps<T>) => SuggestionsCore<T> =\r\n  SuggestionsCore as new (props: ISuggestionsCoreProps<T>) => SuggestionsCore<T>;\r\n\r\n  constructor(suggestionsProps: ISuggestionsControlProps<T>) {\r\n    super(suggestionsProps);\r\n\r\n    this.state = {\r\n      selectedHeaderIndex: -1,\r\n      selectedFooterIndex: -1,\r\n    };\r\n  }\r\n\r\n  public componentDidMount(): void {\r\n    this.resetSelectedItem();\r\n  }\r\n\r\n  public componentDidUpdate(): void {\r\n    this.scrollSelected();\r\n  }\r\n\r\n  public componentWillReceiveProps(): void {\r\n    this.resetSelectedItem();\r\n  }\r\n\r\n  public componentWillUnmount(): void {\r\n    this._suggestions.deselectAllSuggestions();\r\n  }\r\n\r\n  public render(): JSX.Element {\r\n    const {\r\n      className,\r\n      headerItemsProps,\r\n      footerItemsProps\r\n    } = this.props;\r\n\r\n    return (\r\n      <div\r\n        className={ css(\r\n          'ms-Suggestions',\r\n          className ? className : '',\r\n          styles.root) }\r\n      >\r\n        { headerItemsProps && this.renderHeaderItems() }\r\n        { this._renderSuggestions() }\r\n        { footerItemsProps && this.renderFooterItems() }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  public get currentSuggestion(): ISuggestionModel<T> {\r\n    return this._suggestions.getCurrentItem();\r\n  }\r\n\r\n  public hasSuggestionSelected(): boolean {\r\n    return this._suggestions.hasSuggestionSelected();\r\n  }\r\n\r\n  public hasSelection(): boolean {\r\n    const { selectedHeaderIndex, selectedFooterIndex } = this.state;\r\n    return selectedHeaderIndex !== -1 || this.hasSuggestionSelected() || selectedFooterIndex !== -1;\r\n  }\r\n\r\n  public executeSelectedAction(): void {\r\n    const { headerItemsProps, footerItemsProps } = this.props;\r\n    const { selectedHeaderIndex, selectedFooterIndex } = this.state;\r\n\r\n    if (headerItemsProps && selectedHeaderIndex !== -1 && selectedHeaderIndex < headerItemsProps.length) {\r\n      const selectedHeaderItem = headerItemsProps[selectedHeaderIndex];\r\n      if (selectedHeaderItem.onExecute) {\r\n        selectedHeaderItem.onExecute();\r\n      }\r\n    } else if (this._suggestions.hasSuggestionSelected()) {\r\n      this.props.completeSuggestion();\r\n    } else if (footerItemsProps && selectedFooterIndex !== -1 && selectedFooterIndex < footerItemsProps.length) {\r\n      const selectedFooterItem = footerItemsProps[selectedFooterIndex];\r\n      if (selectedFooterItem.onExecute) {\r\n        selectedFooterItem.onExecute();\r\n      }\r\n    }\r\n  }\r\n\r\n  public removeSuggestion(index?: number): void {\r\n    this._suggestions.removeSuggestion(index ? index : this._suggestions.currentIndex);\r\n  }\r\n\r\n  /**\r\n   * Handles the key down, returns true, if the event was handled, false otherwise\r\n   * @param keyCode The keyCode to handle\r\n   */\r\n  public handleKeyDown(keyCode: number): boolean {\r\n    const { selectedHeaderIndex, selectedFooterIndex } = this.state;\r\n    let isKeyDownHandled = false;\r\n    if (keyCode === KeyCodes.down) {\r\n      if (selectedHeaderIndex === -1 && !this._suggestions.hasSuggestionSelected() && selectedFooterIndex === -1) {\r\n        this.selectFirstItem();\r\n      } else if (selectedHeaderIndex !== -1) {\r\n        this.selectNextItem(SuggestionItemType.header);\r\n        isKeyDownHandled = true;\r\n      } else if (this._suggestions.hasSuggestionSelected()) {\r\n        this.selectNextItem(SuggestionItemType.suggestion);\r\n        isKeyDownHandled = true;\r\n      } else if (selectedFooterIndex !== -1) {\r\n        this.selectNextItem(SuggestionItemType.footer);\r\n        isKeyDownHandled = true;\r\n      }\r\n    } else if (keyCode === KeyCodes.up) {\r\n      if (selectedHeaderIndex === -1 && !this._suggestions.hasSuggestionSelected() && selectedFooterIndex === -1) {\r\n        this.selectLastItem();\r\n      } else if (selectedHeaderIndex !== -1) {\r\n        this.selectPreviousItem(SuggestionItemType.header);\r\n        isKeyDownHandled = true;\r\n      } else if (this._suggestions.hasSuggestionSelected()) {\r\n        this.selectPreviousItem(SuggestionItemType.suggestion);\r\n        isKeyDownHandled = true;\r\n      } else if (selectedFooterIndex !== -1) {\r\n        this.selectPreviousItem(SuggestionItemType.footer);\r\n        isKeyDownHandled = true;\r\n      }\r\n    } else if (keyCode === KeyCodes.enter\r\n      || keyCode === KeyCodes.tab) {\r\n      if (this.hasSelection()) {\r\n        this.executeSelectedAction();\r\n        isKeyDownHandled = true;\r\n      }\r\n    }\r\n\r\n    return isKeyDownHandled;\r\n  }\r\n\r\n  // TODO get the element to scroll into view properly regardless of direction.\r\n  public scrollSelected(): void {\r\n    if (this._selectedElement) {\r\n      this._selectedElement.scrollIntoView(false);\r\n    }\r\n  }\r\n\r\n  protected renderHeaderItems(): JSX.Element | null {\r\n    const { headerItemsProps, suggestionsHeaderContainerAriaLabel } = this.props;\r\n    const { selectedHeaderIndex } = this.state;\r\n\r\n    return headerItemsProps ? (\r\n      <div\r\n        className={ css('ms-Suggestions-headerContainer', styles.suggestionsContainer) }\r\n        id='suggestionHeader-list'\r\n        role='list'\r\n        aria-label={ suggestionsHeaderContainerAriaLabel }\r\n      >\r\n        { headerItemsProps.map((headerItemProps: ISuggestionsHeaderFooterProps, index: number) => {\r\n          const isSelected = selectedHeaderIndex !== -1 && selectedHeaderIndex === index;\r\n          return (\r\n            headerItemProps.shouldShow() ? <div\r\n              ref={ this._resolveRef(isSelected ? '_selectedElement' : '') }\r\n              id={ 'sug-header' + index }\r\n              role='listitem'\r\n              aria-label={ headerItemProps.ariaLabel }\r\n            >\r\n              <SuggestionsHeaderFooterItem\r\n                id={ 'sug-header-item' + index }\r\n                isSelected={ isSelected }\r\n                renderItem={ headerItemProps.renderItem }\r\n                onExecute={ headerItemProps.onExecute }\r\n                className={ headerItemProps.className }\r\n              />\r\n            </div> : null\r\n          );\r\n        }) }\r\n      </div>) : null;\r\n  }\r\n\r\n  protected renderFooterItems(): JSX.Element | null {\r\n    const { footerItemsProps, suggestionsFooterContainerAriaLabel } = this.props;\r\n    const { selectedFooterIndex } = this.state;\r\n    return footerItemsProps ? (\r\n      <div\r\n        className={ css('ms-Suggestions-footerContainer', styles.suggestionsContainer) }\r\n        id='suggestionFooter-list'\r\n        role='list'\r\n        aria-label={ suggestionsFooterContainerAriaLabel }\r\n      >\r\n        { footerItemsProps.map((footerItemProps: ISuggestionsHeaderFooterProps, index: number) => {\r\n          const isSelected = selectedFooterIndex !== -1 && selectedFooterIndex === index;\r\n          return (\r\n            footerItemProps.shouldShow() ? <div\r\n              ref={ this._resolveRef(isSelected ? '_selectedElement' : '') }\r\n              id={ 'sug-footer' + index }\r\n              role='listitem'\r\n              aria-label={ footerItemProps.ariaLabel }\r\n            >\r\n              <SuggestionsHeaderFooterItem\r\n                id={ 'sug-footer-item' + index }\r\n                isSelected={ isSelected }\r\n                renderItem={ footerItemProps.renderItem }\r\n                onExecute={ footerItemProps.onExecute }\r\n                className={ footerItemProps.className }\r\n              />\r\n            </div> : null\r\n          );\r\n        }) }\r\n      </div>) : null;\r\n  }\r\n\r\n  protected _renderSuggestions(): JSX.Element {\r\n    const TypedSuggestions = this.SuggestionsOfProperType;\r\n\r\n    return (\r\n      <TypedSuggestions\r\n        ref={ this._resolveRef('_suggestions') }\r\n        { ...this.props as ISuggestionsCoreProps<T>}\r\n      />);\r\n  }\r\n\r\n  /**\r\n   * Selects the next selectable item\r\n   */\r\n  protected selectNextItem(itemType: SuggestionItemType, originalItemType?: SuggestionItemType): void {\r\n    // If the recursive calling has not found a selectable item in the other suggestion item type groups\r\n    // And the method is being called again with the original item type,\r\n    // Select the first selectable item of this suggestion item type group (could be the currently selected item)\r\n    if (itemType === originalItemType) {\r\n      this._selectNextItemOfItemType(itemType);\r\n      return;\r\n    }\r\n\r\n    const startedItemType = originalItemType !== undefined ? originalItemType : itemType;\r\n\r\n    // Try to set the selection to the next selectable item, of the same suggestion item type group\r\n    // If this is the original item type, use the current index\r\n    const selectionChanged = this._selectNextItemOfItemType(\r\n      itemType,\r\n      startedItemType === itemType ? this._getCurrentIndexForType(itemType) : undefined);\r\n\r\n    // If the selection did not change, try to select from the next suggestion type group\r\n    if (!selectionChanged) {\r\n\r\n      this.selectNextItem(this._getNextItemSectionType(itemType), startedItemType);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Selects the previous selectable item\r\n   */\r\n  protected selectPreviousItem(itemType: SuggestionItemType, originalItemType?: SuggestionItemType): void {\r\n    // If the recursive calling has not found a selectable item in the other suggestion item type groups\r\n    // And the method is being called again with the original item type,\r\n    // Select the last selectable item of this suggestion item type group (could be the currently selected item)\r\n    if (itemType === originalItemType) {\r\n      this._selectPreviousItemOfItemType(itemType);\r\n      return;\r\n    }\r\n\r\n    const startedItemType = originalItemType !== undefined ? originalItemType : itemType;\r\n\r\n    // Try to set the selection to the previous selectable item, of the same suggestion item type group\r\n    const selectionChanged = this._selectPreviousItemOfItemType(\r\n      itemType,\r\n      startedItemType === itemType ? this._getCurrentIndexForType(itemType) : undefined);\r\n\r\n    // If the selection did not change, try to select from the previous suggestion type group\r\n    if (!selectionChanged) {\r\n\r\n      this.selectPreviousItem(this._getPreviousItemSectionType(itemType), startedItemType);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Resets the selected state and selects the first selectable item\r\n   */\r\n  protected resetSelectedItem(): void {\r\n    this.setState({ selectedHeaderIndex: -1, selectedFooterIndex: -1 });\r\n    this._suggestions.deselectAllSuggestions();\r\n\r\n    // Select the first item if the shouldSelectFirstItem prop is not set or it is set and it returns true\r\n    if (this.props.shouldSelectFirstItem === undefined || this.props.shouldSelectFirstItem()) {\r\n      this.selectFirstItem();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Selects the first item\r\n   */\r\n  protected selectFirstItem(): void {\r\n    if (this._selectNextItemOfItemType(SuggestionItemType.header)) {\r\n      return;\r\n    }\r\n\r\n    if (this._selectNextItemOfItemType(SuggestionItemType.suggestion)) {\r\n      return;\r\n    }\r\n\r\n    this._selectNextItemOfItemType(SuggestionItemType.footer);\r\n  }\r\n\r\n  /**\r\n   * Selects the last item\r\n   */\r\n  protected selectLastItem(): void {\r\n    if (this._selectPreviousItemOfItemType(SuggestionItemType.footer)) {\r\n      return;\r\n    }\r\n\r\n    if (this._selectPreviousItemOfItemType(SuggestionItemType.suggestion)) {\r\n      return;\r\n    }\r\n\r\n    this._selectPreviousItemOfItemType(SuggestionItemType.header);\r\n  }\r\n\r\n  /**\r\n   * Selects the next item in the suggestion item type group, given the current index\r\n   * If none is able to be selected, returns false, otherwise returns true\r\n   * @param itemType The suggestion item type\r\n   * @param currentIndex The current index, default is -1\r\n   */\r\n  private _selectNextItemOfItemType(itemType: SuggestionItemType, currentIndex: number = -1): boolean {\r\n    if (itemType === SuggestionItemType.suggestion) {\r\n      if (this.props.suggestions.length > currentIndex + 1) {\r\n        this._suggestions.setSelectedSuggestion(currentIndex + 1);\r\n        this.setState({ selectedHeaderIndex: -1, selectedFooterIndex: -1 });\r\n        return true;\r\n      }\r\n    } else {\r\n      const isHeader = itemType === SuggestionItemType.header;\r\n      const itemProps = isHeader ? this.props.headerItemsProps : this.props.footerItemsProps;\r\n\r\n      if (itemProps && itemProps.length > currentIndex + 1) {\r\n        for (let i = currentIndex + 1; i < itemProps.length; i++) {\r\n          const item = itemProps[i];\r\n          if (item.onExecute && item.shouldShow()) {\r\n            this.setState({ selectedHeaderIndex: isHeader ? i : -1 });\r\n            this.setState({ selectedFooterIndex: isHeader ? -1 : i });\r\n            this._suggestions.deselectAllSuggestions();\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n * Selects the previous item in the suggestion item type group, given the current index\r\n * If none is able to be selected, returns false, otherwise returns true\r\n * @param itemType The suggestion item type\r\n * @param currentIndex The current index. If none is provided, the default is the items length of specified type\r\n */\r\n  private _selectPreviousItemOfItemType(itemType: SuggestionItemType, currentIndex?: number): boolean {\r\n    if (itemType === SuggestionItemType.suggestion) {\r\n      const index = currentIndex !== undefined ? currentIndex : this.props.suggestions.length;\r\n      if (index > 0) {\r\n        this._suggestions.setSelectedSuggestion(index - 1);\r\n        this.setState({ selectedHeaderIndex: -1, selectedFooterIndex: -1 });\r\n        return true;\r\n      }\r\n    } else {\r\n      const isHeader = itemType === SuggestionItemType.header;\r\n      const itemProps = isHeader ? this.props.headerItemsProps : this.props.footerItemsProps;\r\n      if (itemProps) {\r\n        const index = currentIndex !== undefined ? currentIndex : itemProps.length;\r\n        if (index > 0) {\r\n          for (let i = index - 1; i >= 0; i--) {\r\n            const item = itemProps[i];\r\n            if (item.onExecute && item.shouldShow()) {\r\n              this.setState({ selectedHeaderIndex: isHeader ? i : -1 });\r\n              this.setState({ selectedFooterIndex: isHeader ? -1 : i });\r\n              this._suggestions.deselectAllSuggestions();\r\n              return true;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private _getCurrentIndexForType(itemType: SuggestionItemType): number {\r\n    switch (itemType) {\r\n      case SuggestionItemType.header:\r\n        return this.state.selectedHeaderIndex;\r\n      case SuggestionItemType.suggestion:\r\n        return this._suggestions.currentIndex;\r\n      case SuggestionItemType.footer:\r\n        return this.state.selectedFooterIndex;\r\n    }\r\n  }\r\n\r\n  private _getNextItemSectionType(itemType: SuggestionItemType): SuggestionItemType {\r\n    switch (itemType) {\r\n      case SuggestionItemType.header:\r\n        return SuggestionItemType.suggestion;\r\n      case SuggestionItemType.suggestion:\r\n        return SuggestionItemType.footer;\r\n      case SuggestionItemType.footer:\r\n        return SuggestionItemType.header;\r\n    }\r\n  }\r\n\r\n  private _getPreviousItemSectionType(itemType: SuggestionItemType): SuggestionItemType {\r\n    switch (itemType) {\r\n      case SuggestionItemType.header:\r\n        return SuggestionItemType.footer;\r\n      case SuggestionItemType.suggestion:\r\n        return SuggestionItemType.header;\r\n      case SuggestionItemType.footer:\r\n        return SuggestionItemType.suggestion;\r\n    }\r\n  }\r\n}"]}