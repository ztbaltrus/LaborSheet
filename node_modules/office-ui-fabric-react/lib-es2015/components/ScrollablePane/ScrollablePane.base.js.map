{"version":3,"file":"ScrollablePane.base.js","sourceRoot":"../src/","sources":["components/ScrollablePane/ScrollablePane.base.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport * as PropTypes from 'prop-types';\r\nimport {\r\n  BaseComponent,\r\n  classNamesFunction,\r\n  customizable,\r\n  divProperties,\r\n  getNativeProps,\r\n  createRef\r\n} from '../../Utilities';\r\nimport {\r\n  IScrollablePane,\r\n  IScrollablePaneProps,\r\n  IScrollablePaneStyles,\r\n  IScrollablePaneStyleProps\r\n} from './ScrollablePane.types';\r\nimport { Sticky } from '../../Sticky';\r\n\r\nexport interface IScrollablePaneContext {\r\n  scrollablePane: PropTypes.Requireable<object>;\r\n}\r\n\r\nexport interface IScrollablePaneState {\r\n  stickyTopHeight: number;\r\n  stickyBottomHeight: number;\r\n}\r\n\r\nconst getClassNames = classNamesFunction<IScrollablePaneStyleProps, IScrollablePaneStyles>();\r\n\r\n@customizable('ScrollablePane', ['theme'])\r\nexport class ScrollablePaneBase extends BaseComponent<IScrollablePaneProps, IScrollablePaneState> implements IScrollablePane {\r\n  public static childContextTypes: React.ValidationMap<IScrollablePaneContext> = {\r\n    scrollablePane: PropTypes.object\r\n  };\r\n\r\n  private _root = createRef<HTMLDivElement>();\r\n  private _stickyAboveRef = createRef<HTMLDivElement>();\r\n  private _stickyBelowRef = createRef<HTMLDivElement>();\r\n  private _contentContainer = createRef<HTMLDivElement>();\r\n  private _subscribers: Set<Function>;\r\n  private _stickies: Set<Sticky>;\r\n  private _mutationObserver: MutationObserver;\r\n\r\n  constructor(props: IScrollablePaneProps) {\r\n    super(props);\r\n    this._subscribers = new Set<Function>();\r\n    this._stickies = new Set<Sticky>();\r\n\r\n    this.state = {\r\n      stickyTopHeight: 0,\r\n      stickyBottomHeight: 0\r\n    };\r\n  }\r\n\r\n  public get root(): HTMLDivElement | null {\r\n    return this._root.current;\r\n  }\r\n\r\n  public get stickyAbove(): HTMLDivElement | null {\r\n    return this._stickyAboveRef.current;\r\n  }\r\n\r\n  public get stickyBelow(): HTMLDivElement | null {\r\n    return this._stickyBelowRef.current;\r\n  }\r\n\r\n  public get contentContainer(): HTMLDivElement | null {\r\n    return this._contentContainer.current;\r\n  }\r\n\r\n  public getChildContext() {\r\n    return {\r\n      scrollablePane: {\r\n        subscribe: this.subscribe,\r\n        unsubscribe: this.unsubscribe,\r\n        addSticky: this.addSticky,\r\n        removeSticky: this.removeSticky,\r\n        updateStickyRefHeights: this.updateStickyRefHeights,\r\n        sortSticky: this.sortSticky,\r\n        notifySubscribers: this.notifySubscribers\r\n      }\r\n    };\r\n  }\r\n\r\n  public componentDidMount() {\r\n    const { initialScrollPosition } = this.props;\r\n    this._events.on(this.contentContainer, 'scroll', this._async.throttle(this.notifySubscribers, 50));\r\n    this._events.on(window, 'resize', this._onWindowResize);\r\n    if (this.contentContainer && initialScrollPosition) {\r\n      this.contentContainer.scrollTop = initialScrollPosition;\r\n    }\r\n\r\n    // Set sticky distances from top property, then sort in correct order and notify subscribers\r\n    this.setStickiesDistanceFromTop();\r\n    this._stickies.forEach((sticky) => {\r\n      this.sortSticky(sticky);\r\n    });\r\n    this.notifySubscribers();\r\n\r\n    if ('MutationObserver' in window) {\r\n      this._mutationObserver = new MutationObserver(mutation => {\r\n        // Function to check if mutation is occuring in stickyAbove or stickyBelow\r\n        function checkIfMutationIsSticky(mutationRecord: MutationRecord): boolean {\r\n          if (this.stickyAbove !== null && this.stickyBelow !== null) {\r\n            return this.stickyAbove.contains(mutationRecord.target) || this.stickyBelow.contains(mutationRecord.target);\r\n          }\r\n          return false;\r\n        }\r\n\r\n        // If mutation occurs in sticky header or footer, then update sticky top/bottom heights\r\n        if (mutation.some(checkIfMutationIsSticky.bind(this))) {\r\n          this.updateStickyRefHeights();\r\n        } else {\r\n          // Else if mutation occurs in scrollable region, then find sticky it belongs to and force update\r\n          const stickyList: Sticky[] = [];\r\n          this._stickies.forEach((sticky) => {\r\n            if (sticky.root && sticky.root.contains(mutation[0].target)) {\r\n              stickyList.push(sticky);\r\n            }\r\n          });\r\n          if (stickyList.length) {\r\n            stickyList.forEach((sticky) => {\r\n              sticky.forceUpdate();\r\n            });\r\n          }\r\n        }\r\n      });\r\n\r\n      if (this.root) {\r\n        this._mutationObserver.observe(this.root, {\r\n          childList: true,\r\n          attributes: true,\r\n          subtree: true,\r\n          characterData: true\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  public componentWillUnmount() {\r\n    this._events.off(this.contentContainer);\r\n    this._events.off(window);\r\n    this._mutationObserver.disconnect();\r\n  }\r\n\r\n  // Only updates if props/state change, just to prevent excessive setState with updateStickyRefHeights\r\n  public shouldComponentUpdate(nextProps: IScrollablePaneProps, nextState: IScrollablePaneState): boolean {\r\n    return this.props.children !== nextProps.children ||\r\n      this.props.initialScrollPosition !== nextProps.initialScrollPosition ||\r\n      this.props.className !== nextProps.className ||\r\n      this.state.stickyTopHeight !== nextState.stickyTopHeight ||\r\n      this.state.stickyBottomHeight !== nextState.stickyBottomHeight;\r\n  }\r\n\r\n  public componentDidUpdate(prevProps: IScrollablePaneProps, prevState: IScrollablePaneState) {\r\n    const initialScrollPosition = this.props.initialScrollPosition;\r\n    if (this.contentContainer && initialScrollPosition && prevProps.initialScrollPosition !== initialScrollPosition) {\r\n      this.contentContainer.scrollTop = initialScrollPosition;\r\n    }\r\n\r\n    // Update subscribers when stickyTopHeight/stickyBottomHeight changes\r\n    if (prevState.stickyTopHeight !== this.state.stickyTopHeight || prevState.stickyBottomHeight !== this.state.stickyBottomHeight) {\r\n      this.notifySubscribers();\r\n    }\r\n  }\r\n\r\n  public render(): JSX.Element {\r\n    const { className, theme, getStyles } = this.props;\r\n    const { stickyTopHeight, stickyBottomHeight } = this.state;\r\n    const classNames = getClassNames(getStyles!,\r\n      {\r\n        theme: theme!,\r\n        className\r\n      }\r\n    );\r\n\r\n    return (\r\n      <div\r\n        { ...getNativeProps(this.props, divProperties) }\r\n        ref={ this._root }\r\n        className={ classNames.root }\r\n      >\r\n        <div\r\n          ref={ this._contentContainer }\r\n          className={ classNames.contentContainer }\r\n          data-is-scrollable={ true }\r\n        >\r\n          { this.props.children }\r\n        </div>\r\n        <div\r\n          ref={ this._stickyAboveRef }\r\n          className={ classNames.stickyAbove }\r\n          style={ this._getStickyContainerStyle(stickyTopHeight) }\r\n        />\r\n        <div\r\n          className={ classNames.stickyBelow }\r\n          style={ this._getStickyContainerStyle(stickyBottomHeight) }\r\n        >\r\n          <div\r\n            ref={ this._stickyBelowRef }\r\n            className={ classNames.stickyBelowItems }\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  public setStickiesDistanceFromTop(): void {\r\n    if (this.contentContainer) {\r\n      this._stickies.forEach((sticky) => {\r\n        sticky.setDistanceFromTop(this.contentContainer as HTMLDivElement);\r\n      });\r\n    }\r\n  }\r\n\r\n  public forceLayoutUpdate() {\r\n    this._onWindowResize();\r\n  }\r\n\r\n  public subscribe = (handler: Function): void => {\r\n    this._subscribers.add(handler);\r\n  }\r\n\r\n  public unsubscribe = (handler: Function): void => {\r\n    this._subscribers.delete(handler);\r\n  }\r\n\r\n  public addSticky = (sticky: Sticky): void => {\r\n    this._stickies.add(sticky);\r\n\r\n    // If ScrollablePane is mounted, then sort sticky in correct place\r\n    if (this.contentContainer) {\r\n      sticky.setDistanceFromTop(this.contentContainer);\r\n      this.sortSticky(sticky);\r\n    }\r\n    this.notifySubscribers();\r\n  }\r\n\r\n  public removeSticky = (sticky: Sticky): void => {\r\n    this._stickies.delete(sticky);\r\n    this._removeStickyFromContainers(sticky);\r\n    this.notifySubscribers();\r\n  }\r\n\r\n  public sortSticky = (sticky: Sticky): void => {\r\n    if (this.stickyAbove && this.stickyBelow) {\r\n      if (sticky.canStickyTop && sticky.stickyContentTop) {\r\n        this._addToStickyContainer(sticky, this.stickyAbove, sticky.stickyContentTop);\r\n      }\r\n\r\n      if (sticky.canStickyBottom && sticky.stickyContentBottom) {\r\n        this._addToStickyContainer(sticky, this.stickyBelow, sticky.stickyContentBottom);\r\n      }\r\n    }\r\n  }\r\n\r\n  public updateStickyRefHeights = (): void => {\r\n    const stickyItems = this._stickies;\r\n\r\n    let stickyTopHeight = 0;\r\n    let stickyBottomHeight = 0;\r\n\r\n    stickyItems.forEach((sticky: Sticky) => {\r\n      const { isStickyTop, isStickyBottom } = sticky.state;\r\n      if (sticky.nonStickyContent) {\r\n        if (isStickyTop) {\r\n          stickyTopHeight += sticky.nonStickyContent.offsetHeight;\r\n        }\r\n        if (isStickyBottom) {\r\n          stickyBottomHeight += sticky.nonStickyContent.offsetHeight;\r\n        }\r\n        this._checkStickyStatus(sticky);\r\n      }\r\n    });\r\n\r\n    this.setState({\r\n      stickyTopHeight: stickyTopHeight,\r\n      stickyBottomHeight: stickyBottomHeight\r\n    });\r\n  }\r\n\r\n  public notifySubscribers = (): void => {\r\n    if (this.contentContainer) {\r\n      this._subscribers.forEach((handle) => {\r\n        // this.stickyBelow is passed in for calculating distance to determine Sticky status\r\n        handle(this.contentContainer, this.stickyBelow);\r\n      });\r\n    }\r\n  }\r\n\r\n  public getScrollPosition = (): number => {\r\n    if (this.contentContainer) {\r\n      return this.contentContainer.scrollTop;\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  private _checkStickyStatus(sticky: Sticky): void {\r\n    if (this.stickyAbove && this.stickyBelow && this.contentContainer && sticky.nonStickyContent) {\r\n      // If sticky is sticky, then append content to appropriate container\r\n      if (sticky.state.isStickyTop || sticky.state.isStickyBottom) {\r\n        if (sticky.state.isStickyTop && !this.stickyAbove.contains(sticky.nonStickyContent) && sticky.stickyContentTop) {\r\n          sticky.addSticky(sticky.stickyContentTop);\r\n        }\r\n\r\n        if (sticky.state.isStickyBottom && !this.stickyBelow.contains(sticky.nonStickyContent) && sticky.stickyContentBottom) {\r\n          sticky.addSticky(sticky.stickyContentBottom);\r\n        }\r\n      } else if (!this.contentContainer.contains(sticky.nonStickyContent)) {\r\n        // Reset sticky if it's not sticky and not in the contentContainer element\r\n        sticky.resetSticky();\r\n      }\r\n    }\r\n  }\r\n\r\n  private _addToStickyContainer = (sticky: Sticky, stickyContainer: HTMLDivElement, stickyContentToAdd: HTMLDivElement): void => {\r\n    // If there's no children, append child to list, otherwise, sort though array and append at correct position\r\n    if (!stickyContainer.children.length) {\r\n      stickyContainer.appendChild(stickyContentToAdd);\r\n    } else {\r\n      // If stickyContentToAdd isn't a child element of target container, then append\r\n      if (!stickyContainer.contains(stickyContentToAdd)) {\r\n        const stickyChildrenElements: Element[] = [].slice.call(stickyContainer.children);\r\n\r\n        const stickyList: Sticky[] = [];\r\n        // Get stickies.  Filter by canStickyTop/Bottom, then sort by distance from top, and then\r\n        // filter by elements that are in the stickyContainer already.\r\n        this._stickies.forEach((stickyItem) => {\r\n          if (stickyContainer === this.stickyAbove && sticky.canStickyTop) {\r\n            stickyList.push(stickyItem);\r\n          } else if (sticky.canStickyBottom) {\r\n            stickyList.push(stickyItem);\r\n          }\r\n        });\r\n\r\n        const stickyListSorted = stickyList.sort((a, b) => {\r\n          return a.distanceFromTop - b.distanceFromTop;\r\n        }).filter((item) => {\r\n          const stickyContent = (stickyContainer === this.stickyAbove) ? item.stickyContentTop : item.stickyContentBottom;\r\n          if (stickyContent) {\r\n            return stickyChildrenElements.indexOf(stickyContent) > -1;\r\n          }\r\n        });\r\n\r\n        // Get first element that has a distance from top that is further than our sticky that is being added\r\n        let targetStickyToAppendBefore: Sticky | undefined = undefined;\r\n        for (const i in stickyListSorted) {\r\n          if (stickyListSorted[i].distanceFromTop >= sticky.distanceFromTop) {\r\n            targetStickyToAppendBefore = stickyListSorted[i];\r\n            break;\r\n          }\r\n        }\r\n\r\n        // If target element to append before is known, then grab respective stickyContentTop/Bottom element and insert before\r\n        let targetContainer: HTMLDivElement | null = null;\r\n        if (targetStickyToAppendBefore) {\r\n          targetContainer = stickyContainer === this.stickyAbove ?\r\n            targetStickyToAppendBefore.stickyContentTop :\r\n            targetStickyToAppendBefore.stickyContentBottom;\r\n        }\r\n        stickyContainer.insertBefore(stickyContentToAdd, targetContainer);\r\n      }\r\n    }\r\n  }\r\n\r\n  private _removeStickyFromContainers = (sticky: Sticky): void => {\r\n    if (this.stickyAbove && sticky.stickyContentTop) {\r\n      this.stickyAbove.removeChild(sticky.stickyContentTop);\r\n    }\r\n    if (this.stickyBelow && sticky.stickyContentBottom) {\r\n      this.stickyBelow.removeChild(sticky.stickyContentBottom);\r\n    }\r\n  }\r\n\r\n  private _onWindowResize = (): void => {\r\n    this._async.setTimeout(() => {\r\n      this.notifySubscribers();\r\n    }, 5);\r\n  }\r\n\r\n  private _getStickyContainerStyle = (height: number): React.CSSProperties => {\r\n    return {\r\n      height: height,\r\n      width: this.contentContainer ? this.contentContainer.clientWidth : '100%'\r\n    };\r\n  }\r\n}\r\n"]}